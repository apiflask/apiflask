{% extends "base.html" %}

{% block announce %}
Do you use APIFlask in your side projects or in your company?
<a href="https://github.com/apiflask/apiflask/discussions/273" target="_blank">Let us know</a>!<br>
Welcome to follow <a href="https://twitter.com/apiflask" target="_blank">@apiflask</a> on Twitter for updates.
{% endblock %}

{% block extrahead %}
{% set title = config.site_name %}
{% if page and page.title and not page.is_homepage %}
  {% set title = config.site_name ~ " - " ~ page.title | striptags %}
{% endif %}
{% set image = config.site_url ~ '_assets/banner.png' %}
<!-- Open graph meta tags -->
<meta property="og:type" content="website" />
<meta property="og:title" content="{{ title }}" />
<meta property="og:description" content="{{ config.site_description }}" />
<meta property="og:url" content="{{ page.canonical_url }}" />
<meta property="og:image" content="{{ image }}" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1280" />
<meta property="og:image:height" content="640" />
<!-- Twitter meta tags -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@apiflask" />
<meta name="twitter:creator" content="@apiflask" />
<meta name="twitter:title" content="{{ title }}" />
<meta name="twitter:description" content="{{ config.site_description }}" />
<meta name="twitter:image" content="{{ image }}" />
{% endblock %}

{% block analytics %}
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q5PZT7R39D"></script>
<script>
if (window.location.hostname != "localhost") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Q5PZT7R39D');
}
</script>
{% endblock %}


{% block scripts %}
{{ super() }}
<template>
  <div class="md-header__option"></form>
    <div class="md-select">
      <button
        class="md-header__button md-icon"
        aria-label="Versions"
      >
        {% include ".icons/material/history.svg" %}
      </button>
      <div class="md-select__inner">
        <ul class="md-select__list">
          <li class="md-select__item">
            <a
              href="https://apiflask.com"
              hreflang="Latest"
              class="md-select__link"
            >
              Latest
            </a>
          </li>
          <li class="md-select__item">
            <a
              href="https://v1.apiflask.com"
              hreflang="Version 1"
              class="md-select__link"
            >
              V1 (stable)
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</template>

<script>
var template = document.getElementsByTagName("template")[0];
var title = document.querySelector(".md-header__title");
title.after(template.content.cloneNode(true));
</script>
{% endblock %}
